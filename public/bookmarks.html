<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <title>Bookmark Manager</title>
  <link rel="shortcut icon" href="favicon.ico">
  <link rel="icon" type="image/png" href="assets/favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@250" rel="stylesheet">
  <style>
/* ✨ ULTRA MODERN GLITCH BOOKMARK MANAGER ✨ */

:root {
  /* Modern Color Palette */
  --color-primary: #6366f1;
  --color-secondary: #8b5cf6;
  --color-accent: #06b6d4;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-danger: #ef4444;
  
  /* Background & Surfaces */
  --color-background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
  --color-surface: rgba(255, 255, 255, 0.08);
  --color-surface-hover: rgba(255, 255, 255, 0.12);
  --color-surface-active: rgba(255, 255, 255, 0.16);
  
  /* Text Colors */
  --color-text-primary: #f8fafc;
  --color-text-secondary: #cbd5e1;
  --color-text-muted: #94a3b8;
  
  /* Glassmorphism Effects */
  --glass-background: rgba(255, 255, 255, 0.1);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  --glass-blur: blur(16px);
  
  /* Spacing & Dimensions */
  --toolbar-height: 48px;
  --border-radius: 12px;
  --border-radius-lg: 12px;
  --spacing-xs: 4px;
  --spacing-sm: 6px;
  --spacing-md: 12px;
  --spacing-lg: 16px;
  --spacing-xl: 24px;
  
  /* Transitions */
  --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: var(--color-background);
  color: var(--color-text-primary);
  font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* Animated Background */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
    radial-gradient(circle at 40% 80%, rgba(120, 219, 255, 0.3) 0%, transparent 50%);
  z-index: -1;
  animation: backgroundShift 20s ease-in-out infinite;
}

@keyframes backgroundShift {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* Header */
.header {
  background: var(--glass-background);
  backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border);
  width: 100%;
  height: var(--toolbar-height);
  position: fixed;
  top: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--spacing-lg);
  box-shadow: var(--glass-shadow);
}

.header-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: 18px;
  font-weight: 600;
  color: var(--color-text-primary);
}

.header-icon {
  font-size: 24px;
  color: var(--color-primary);
}

.header-actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

/* Action Buttons */
.action-btn {
  background: var(--glass-background);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius);
  color: var(--color-text-secondary);
  cursor: pointer;
  padding: var(--spacing-xs);
  transition: all var(--transition-fast);
  backdrop-filter: var(--glass-blur);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  font-size: 18px;
}

.action-btn:hover {
  background: var(--color-surface-hover);
  border-color: var(--color-primary);
  color: var(--color-text-primary);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.action-btn.add:hover {
  border-color: var(--color-success);
  color: var(--color-success);
}

.action-btn.import:hover {
  border-color: var(--color-accent);
  color: var(--color-accent);
}

.action-btn.export:hover {
  border-color: var(--color-warning);
  color: var(--color-warning);
}

.action-btn.back:hover {
  border-color: var(--color-secondary);
  color: var(--color-secondary);
}

/* Main Container */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: calc(var(--toolbar-height) + var(--spacing-xl)) var(--spacing-lg) var(--spacing-xl);
}

/* Search Bar */
.search-section {
  margin-bottom: var(--spacing-xl);
}

.search-container {
  position: relative;
  max-width: 500px;
  margin: 0 auto;
}

.search-input {
  background: var(--glass-background);
  border: 2px solid var(--glass-border);
  border-radius: var(--border-radius-lg);
  color: var(--color-text-primary);
  font-size: 14px;
  padding: var(--spacing-md) var(--spacing-lg);
  width: 100%;
  outline: none;
  backdrop-filter: var(--glass-blur);
  transition: all var(--transition-normal);
  padding-left: 48px;
}

.search-input::placeholder {
  color: var(--color-text-muted);
}

.search-input:focus {
  border-color: var(--color-primary);
  background: var(--color-surface-hover);
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
  transform: scale(1.01);
}

.search-icon {
  position: absolute;
  left: var(--spacing-md);
  top: 50%;
  transform: translateY(-50%);
  color: var(--color-text-muted);
  font-size: 20px;
  pointer-events: none;
}

/* Stats Section */
.stats-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-lg);
  margin-bottom: var(--spacing-xl);
}

.stat-card {
  background: var(--glass-background);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-lg);
  backdrop-filter: var(--glass-blur);
  box-shadow: var(--glass-shadow);
  transition: all var(--transition-normal);
  position: relative;
  overflow: hidden;
}

.stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left var(--transition-slow);
}

.stat-card:hover::before {
  left: 100%;
}

.stat-card:hover {
  background: var(--color-surface-hover);
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4);
}

.stat-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
}

.stat-icon {
  font-size: 20px;
  color: var(--color-primary);
}

.stat-title {
  font-size: 14px;
  color: var(--color-text-secondary);
  font-weight: 500;
}

.stat-value {
  font-size: 24px;
  font-weight: 700;
  color: var(--color-text-primary);
}

/* Bookmark Grid */
.bookmarks-section {
  margin-bottom: var(--spacing-xl);
}

.section-title {
  font-size: 20px;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-lg);
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.bookmarks-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: var(--spacing-lg);
}

.bookmark-card {
  background: var(--glass-background);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-lg);
  backdrop-filter: var(--glass-blur);
  box-shadow: var(--glass-shadow);
  transition: all var(--transition-normal);
  position: relative;
  cursor: pointer;
  overflow: hidden;
}

.bookmark-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left var(--transition-slow);
}

.bookmark-card:hover::before {
  left: 100%;
}

.bookmark-card:hover {
  background: var(--color-surface-hover);
  border-color: var(--color-primary);
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4);
}

.bookmark-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: var(--spacing-sm);
}

.bookmark-favicon {
  width: 24px;
  height: 24px;
  border-radius: var(--spacing-xs);
  background: var(--color-surface);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  color: var(--color-text-muted);
  flex-shrink: 0;
}

.bookmark-actions {
  display: flex;
  gap: var(--spacing-xs);
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.bookmark-card:hover .bookmark-actions {
  opacity: 1;
}

.bookmark-action {
  background: var(--color-surface);
  border: 1px solid var(--glass-border);
  border-radius: var(--spacing-sm);
  color: var(--color-text-muted);
  cursor: pointer;
  padding: var(--spacing-xs);
  font-size: 14px;
  transition: all var(--transition-fast);
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.bookmark-action:hover {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: white;
  transform: scale(1.1);
}

.bookmark-action.delete:hover {
  background: var(--color-danger);
  border-color: var(--color-danger);
}

.bookmark-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-xs);
  line-height: 1.4;
  word-break: break-word;
}

.bookmark-url {
  font-size: 13px;
  color: var(--color-text-muted);
  word-break: break-all;
  line-height: 1.4;
}

/* Add Bookmark Form */
.add-form {
  background: var(--glass-background);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-xl);
  backdrop-filter: var(--glass-blur);
  box-shadow: var(--glass-shadow);
  margin-bottom: var(--spacing-xl);
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  display: none;
}

.add-form.show {
  display: block;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.form-group {
  margin-bottom: var(--spacing-lg);
}

.form-label {
  display: block;
  font-size: 14px;
  font-weight: 500;
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-sm);
}

.form-input {
  background: var(--color-surface);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius);
  color: var(--color-text-primary);
  font-size: 14px;
  padding: var(--spacing-sm) var(--spacing-md);
  width: 100%;
  outline: none;
  transition: all var(--transition-normal);
}

.form-input::placeholder {
  color: var(--color-text-muted);
}

.form-input:focus {
  border-color: var(--color-primary);
  background: var(--color-surface-hover);
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.form-actions {
  display: flex;
  gap: var(--spacing-sm);
  justify-content: flex-end;
}

.btn {
  background: var(--glass-background);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius);
  color: var(--color-text-secondary);
  cursor: pointer;
  padding: var(--spacing-sm) var(--spacing-lg);
  font-size: 14px;
  font-weight: 500;
  transition: all var(--transition-normal);
  backdrop-filter: var(--glass-blur);
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.btn:hover {
  background: var(--color-surface-hover);
  color: var(--color-text-primary);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.btn.primary {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: white;
}

.btn.primary:hover {
  background: var(--color-secondary);
  border-color: var(--color-secondary);
}

.btn.secondary {
  background: var(--color-surface);
  border-color: var(--glass-border);
  color: var(--color-text-secondary);
}

/* Empty State */
.empty-state {
  text-align: center;
  padding: var(--spacing-xl) * 2;
  color: var(--color-text-muted);
}

.empty-icon {
  font-size: 64px;
  color: var(--color-text-muted);
  margin-bottom: var(--spacing-lg);
  opacity: 0.5;
}

.empty-title {
  font-size: 20px;
  font-weight: 600;
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-sm);
}

.empty-description {
  font-size: 14px;
  color: var(--color-text-muted);
  margin-bottom: var(--spacing-lg);
}

/* Responsive Design */
@media (max-width: 768px) {
  .container {
    padding-left: var(--spacing-md);
    padding-right: var(--spacing-md);
  }
  
  .header {
    padding: 0 var(--spacing-md);
  }
  
  .header-title {
    font-size: 16px;
  }
  
  .stats-section {
    grid-template-columns: 1fr;
  }
  
  .bookmarks-grid {
    grid-template-columns: 1fr;
  }
  
  .form-actions {
    flex-direction: column;
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--color-primary);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-secondary);
}

/* Focus States for Accessibility */
.action-btn:focus,
.form-input:focus,
.btn:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Hidden file input */
.hidden {
  display: none;
}
  </style>
</head>
<body>
  <div class="header">
    <div class="header-title">
      <span class="material-symbols-outlined header-icon">bookmarks</span>
      <span>Bookmark Manager</span>
    </div>
    <div class="header-actions">
      <span onclick="toggleAddForm()" class="material-symbols-outlined action-btn add" title="Add Bookmark">add</span>
      <span onclick="importBookmarks()" class="material-symbols-outlined action-btn import" title="Import Bookmarks">upload</span>
      <span onclick="exportBookmarks()" class="material-symbols-outlined action-btn export" title="Export Bookmarks">download</span>
      <span onclick="goBack()" class="material-symbols-outlined action-btn back" title="Go Back">arrow_back</span>
    </div>
  </div>

  <div class="container">
    <div class="search-section">
      <div class="search-container">
        <span class="material-symbols-outlined search-icon">search</span>
        <input type="text" class="search-input" placeholder="Search bookmarks..." id="searchInput" oninput="filterBookmarks()">
      </div>
    </div>

    <div class="stats-section">
      <div class="stat-card">
        <div class="stat-header">
          <span class="material-symbols-outlined stat-icon">bookmarks</span>
          <span class="stat-title">Total Bookmarks</span>
        </div>
        <div class="stat-value" id="totalBookmarks">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-header">
          <span class="material-symbols-outlined stat-icon">visibility</span>
          <span class="stat-title">Visible</span>
        </div>
        <div class="stat-value" id="visibleBookmarks">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-header">
          <span class="material-symbols-outlined stat-icon">schedule</span>
          <span class="stat-title">Recently Added</span>
        </div>
        <div class="stat-value" id="recentBookmarks">0</div>
      </div>
    </div>

    <div class="add-form" id="addForm">
      <div class="form-group">
        <label class="form-label" for="bookmarkName">Bookmark Name</label>
        <input type="text" class="form-input" id="bookmarkName" placeholder="Enter bookmark name">
      </div>
      <div class="form-group">
        <label class="form-label" for="bookmarkUrl">URL</label>
        <input type="text" class="form-input" id="bookmarkUrl" placeholder="https://example.com">
      </div>
      <div class="form-actions">
        <button class="btn secondary" onclick="cancelAdd()">
          <span class="material-symbols-outlined">close</span>
          Cancel
        </button>
        <button class="btn primary" onclick="addBookmark()">
          <span class="material-symbols-outlined">add</span>
          Add Bookmark
        </button>
      </div>
    </div>

    <div class="bookmarks-section">
      <h2 class="section-title">
        <span class="material-symbols-outlined">bookmarks</span>
        Your Bookmarks
      </h2>
      <div class="bookmarks-grid" id="bookmarksGrid">
        <!-- Bookmarks will be populated here -->
      </div>
      
      <div class="empty-state" id="emptyState" style="display: none;">
        <div class="material-symbols-outlined empty-icon">bookmark_border</div>
        <div class="empty-title">No bookmarks yet</div>
        <div class="empty-description">Start by going to a page and clicking the bookmark icon</div>
        
      </div>
    </div>
  </div>

  <input type="file" id="importInput" class="hidden" accept=".txt,.json" onchange="handleImportFile(event)">

  <script>
    // Bookmark management functionality
    let bookmarks = [];

    // Initialize the page
    function init() {
      loadBookmarks();
      updateStats();
      renderBookmarks();
    }

    // Load bookmarks from localStorage
    function loadBookmarks() {
      const bookmarkData = localStorage.getItem('bookmarks') || '';
      bookmarks = [];
      
      if (bookmarkData) {
        const pairs = bookmarkData.split(';');
        for (const pair of pairs) {
          if (pair.trim()) {
            const [name, url] = pair.split(',');
            if (name && url) {
              bookmarks.push({
                id: Date.now() + Math.random(),
                name: name.trim(),
                url: url.trim(),
                dateAdded: Date.now()
              });
            }
          }
        }
      }
    }

    // Save bookmarks to localStorage
    function saveBookmarks() {
      const bookmarkData = bookmarks.map(b => `${b.name},${b.url}`).join(';');
      localStorage.setItem('bookmarks', bookmarkData);
    }

    // Update statistics
    function updateStats() {
      const total = bookmarks.length;
      const visible = document.querySelectorAll('.bookmark-card:not([style*="display: none"])').length;
      const recent = bookmarks.filter(b => Date.now() - b.dateAdded < 7 * 24 * 60 * 60 * 1000).length;

      document.getElementById('totalBookmarks').textContent = total;
      document.getElementById('visibleBookmarks').textContent = visible || total;
      document.getElementById('recentBookmarks').textContent = recent;
    }

    // Render bookmarks
    function renderBookmarks() {
      const grid = document.getElementById('bookmarksGrid');
      const emptyState = document.getElementById('emptyState');
      
      if (bookmarks.length === 0) {
        grid.style.display = 'none';
        emptyState.style.display = 'block';
        return;
      }

      grid.style.display = 'grid';
      emptyState.style.display = 'none';
      
      grid.innerHTML = bookmarks.map(bookmark => `
        <div class="bookmark-card" data-id="${bookmark.id}" onclick="openBookmark('${bookmark.url}')">
          <div class="bookmark-header">
            <div class="bookmark-favicon">
              <img src="${getFavicon(bookmark.url)}" alt="Favicon">
            </div>
            <div class="bookmark-actions">
              <span class="material-symbols-outlined bookmark-action" onclick="event.stopPropagation(); editBookmark('${bookmark.id}')" title="Edit">edit</span>
              <span class="material-symbols-outlined bookmark-action delete" onclick="event.stopPropagation(); deleteBookmark('${bookmark.id}')" title="Delete">delete</span>
            </div>
          </div>
          <div class="bookmark-title">${escapeHtml(bookmark.name)}</div>
          <div class="bookmark-url">${escapeHtml(bookmark.url)}</div>
        </div>
      `).join('');
      
      updateStats();
    }

    // Escape HTML to prevent XSS
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // Get favicon
    function getFavicon(url) {
      return `https://www.google.com/s2/favicons?domain=${url}`;
    }

    // Toggle add form
    function toggleAddForm() {
      const form = document.getElementById('addForm');
      if (form.classList.contains('show')) {
        cancelAdd();
      } else {
        form.classList.add('show');
        document.getElementById('bookmarkName').focus();
      }
    }

    // Cancel adding bookmark
    function cancelAdd() {
      const form = document.getElementById('addForm');
      form.classList.remove('show');
      document.getElementById('bookmarkName').value = '';
      document.getElementById('bookmarkUrl').value = '';
    }

    // Add new bookmark
    function addBookmark() {
      const name = document.getElementById('bookmarkName').value.trim();
      const url = document.getElementById('bookmarkUrl').value.trim();

      if (!name || !url) {
        alert('Please enter both name and URL');
        return;
      }

      // Add protocol if missing
      let finalUrl = url;
      if (!url.startsWith('http://') && !url.startsWith('https://')) {
        finalUrl = 'https://' + url;
      }

      const bookmark = {
        id: Date.now() + Math.random(),
        name: name,
        url: finalUrl,
        dateAdded: Date.now()
      };

      bookmarks.unshift(bookmark);
      saveBookmarks();
      renderBookmarks();
      cancelAdd();

      // Show success feedback
      showNotification('Bookmark added successfully!', 'success');
    }

    // Delete bookmark
    function deleteBookmark(id) {
      if (confirm('Are you sure you want to delete this bookmark?')) {
        bookmarks = bookmarks.filter(b => b.id != id);
        saveBookmarks();
        renderBookmarks();
        showNotification('Bookmark deleted', 'warning');
      }
    }

    // Edit bookmark (simple implementation)
    function editBookmark(id) {
      const bookmark = bookmarks.find(b => b.id == id);
      if (!bookmark) return;

      const newName = prompt('Edit bookmark name:', bookmark.name);
      if (newName === null) return;

      const newUrl = prompt('Edit bookmark URL:', bookmark.url);
      if (newUrl === null) return;

      if (newName.trim() && newUrl.trim()) {
        bookmark.name = newName.trim();
        bookmark.url = newUrl.trim();
        saveBookmarks();
        renderBookmarks();
        showNotification('Bookmark updated!', 'success');
      }
    }

    // Open bookmark
    function openBookmark(url) {
        window.location = "launch_page.html?url=" + encodeURIComponent(url);
    }

    // Filter bookmarks
    function filterBookmarks() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const bookmarkCards = document.querySelectorAll('.bookmark-card');
      
      bookmarkCards.forEach(card => {
        const title = card.querySelector('.bookmark-title').textContent.toLowerCase();
        const url = card.querySelector('.bookmark-url').textContent.toLowerCase();
        
        if (title.includes(searchTerm) || url.includes(searchTerm)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
      
      updateStats();
    }

    // Import bookmarks
    function importBookmarks() {
      document.getElementById('importInput').click();
    }

    // Handle import file
    function handleImportFile(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          const content = e.target.result;
          let importedBookmarks = [];

          if (file.name.endsWith('.json')) {
            // JSON format
            const data = JSON.parse(content);
            if (Array.isArray(data)) {
              importedBookmarks = data.filter(item => item.name && item.url);
            }
          } else {
            // Text format (name,url;name,url)
            const pairs = content.split(';');
            for (const pair of pairs) {
              if (pair.trim()) {
                const [name, url] = pair.split(',');
                if (name && url) {
                  importedBookmarks.push({
                    name: name.trim(),
                    url: url.trim()
                  });
                }
              }
            }
          }

          if (importedBookmarks.length > 0) {
            // Add imported bookmarks
            const newBookmarks = importedBookmarks.map(item => ({
              id: Date.now() + Math.random(),
              name: item.name,
              url: item.url,
              dateAdded: Date.now()
            }));

            bookmarks = [...newBookmarks, ...bookmarks];
            saveBookmarks();
            renderBookmarks();
            showNotification(`Imported ${newBookmarks.length} bookmarks!`, 'success');
          } else {
            showNotification('No valid bookmarks found in file', 'warning');
          }
        } catch (error) {
          showNotification('Error importing file: ' + error.message, 'error');
        }
      };
      reader.readAsText(file);
      
      // Reset the input
      event.target.value = '';
    }

    // Export bookmarks
    function exportBookmarks() {
      if (bookmarks.length === 0) {
        showNotification('No bookmarks to export', 'warning');
        return;
      }

      // Create export data in the original format
      const exportData = bookmarks.map(b => `${b.name},${b.url}`).join(';');
      
      // Create and download file
      const blob = new Blob([exportData], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `bookmarks_${new Date().toISOString().split('T')[0]}.txt`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showNotification('Bookmarks exported successfully!', 'success');
    }

    // Go back to previous page
    function goBack() {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        // If no history, try to go to a common page
        window.location.href = 'index.html';
      }
    }

    // Show notification
    function showNotification(message, type = 'info') {
      // Create notification element
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 80px;
        right: 20px;
        background: ${type === 'success' ? 'var(--color-success)' : 
                     type === 'warning' ? 'var(--color-warning)' : 
                     type === 'error' ? 'var(--color-danger)' : 'var(--color-primary)'};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        z-index: 10000;
        font-size: 14px;
        font-weight: 500;
        max-width: 300px;
        opacity: 0;
        transform: translateX(100%);
        transition: all 0.3s ease;
      `;
      notification.textContent = message;
      
      document.body.appendChild(notification);
      
      // Animate in
      setTimeout(() => {
        notification.style.opacity = '1';
        notification.style.transform = 'translateX(0)';
      }, 10);
      
      // Remove after 3 seconds
      setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => {
          if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
          }
        }, 300);
      }, 3000);
    }

    // Handle keyboard shortcuts
    document.addEventListener('keydown', function(e) {
      // Ctrl/Cmd + N to add new bookmark
      if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
        e.preventDefault();
        toggleAddForm();
      }
      
      // Escape to close add form
      if (e.key === 'Escape') {
        const form = document.getElementById('addForm');
        if (form.classList.contains('show')) {
          cancelAdd();
        }
      }
      
      // Enter to submit form when focused on form inputs
      if (e.key === 'Enter') {
        const form = document.getElementById('addForm');
        if (form.classList.contains('show') && 
            (e.target.id === 'bookmarkName' || e.target.id === 'bookmarkUrl')) {
          e.preventDefault();
          addBookmark();
        }
      }
    });

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', init);
  </script>
  <script src="global.js"></script>
</body>
</html>